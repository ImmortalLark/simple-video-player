"use strict";(()=>{var s=/(?=.)(mp4|ogg|avi|webm)$/;var d=320,c=180,o=class{constructor(e){this.width=(e==null?void 0:e.width)||d,this.height=(e==null?void 0:e.height)||c,this.rawVideo=document.createElement("video"),this.rawVideo.className="simple-player__raw-video",this.initCanvas()}play(e){if(e instanceof Array&&(e!=null&&e.length)&&(this.urls=e,this.rawVideo.innerHTML="",e.forEach(t=>{let i=this.createSource(t);i&&this.rawVideo.appendChild(i)})),!this.urls)throw new Error("No videos available to play");this.rawVideo.play(),this.render()}pause(){this.rawVideo.pause()}initCanvas(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=this.width,this.canvas.height=this.height}createSource(e){var r;let t=(r=e.match(s))==null?void 0:r[0];if(!t)return;let i=document.createElement("source");return i.src=e,i.type="video/".concat(t),i}render(){this.rawVideo.paused||this.rawVideo.ended||(this.ctx.drawImage(this.rawVideo,0,0,this.width,this.height),window.requestAnimationFrame(()=>{this.render()}))}},a=o;var n=class{constructor(e){let t=document.getElementById(e);if(!t)throw new Error("Container not exist!");this.container=t,this.initCore()}initCore(){this.initVideo()}initVideo(){this.video=new a,this.container.appendChild(this.video.rawVideo),this.container.appendChild(this.video.canvas)}},g=n;window.SimplePlayer=n;})();
//# sourceMappingURL=index.js.map
